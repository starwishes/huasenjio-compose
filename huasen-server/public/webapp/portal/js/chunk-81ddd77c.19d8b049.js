(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-81ddd77c"],{"898f":function(e,t,a){"use strict";a("dd43")},"9bd2":function(e,t,a){"use strict";a.r(t);var i=a("2f62"),s={name:"HomeSite",data:()=>({loadedTag:!1,pinMap:{1:{label:"热",color:"var(--danger)"},2:{label:"墙",color:"var(--warning)"},3:{label:"优",color:"var(--success)"},4:{label:"免",color:"var(--primary)"}}}),computed:{...Object(i.e)(["appConfig","categorySites"]),categorySitesData(){let e=this.LODASH.cloneDeep(this.categorySites)||[];return e.forEach(e=>{e.selectedTag="",e.allTags=this.handleCategoryAllTag(e)}),e}},mounted(){this.$store.dispatch("initLocalStyleInfo")},methods:{showTag(e){return this.LODASH.get(this.appConfig,"site.openLabelClassification")&&0!==e.allTags.length},imgUrl:e=>e.icon?e.icon:a("4101"),handleSelectTag(e,t){e.selectedTag=e.selectedTag===t?"":t,this.$forceUpdate()},handleDisplaySites:e=>e.selectedTag?e.sites.filter(t=>t.tags&&t.tags.includes(e.selectedTag)):e.sites,handleCategoryAllTag(e){let t=[];return(this.LODASH.get(e,"sites")||[]).forEach(e=>{let a=this.TOOL.parseJSON(e.expand,{}),i=this.LODASH.get(a,"tag");Array.isArray(i)&&(e.tags=i,t=t.concat(i))}),t=Array.from(new Set(t)),t},handlePin(e){let t=[];try{t=JSON.parse(e.expand).pin.slice(0,6)}catch(e){t=[]}return t}}},l=(a("898f"),a("2877")),r=Object(l.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"discolor",rawName:"v-discolor"}],staticClass:"home-site",attrs:{id:"js-home-site"}},e._l(e.categorySitesData,(function(t,i){return a("section",{key:t.typeName+"-"+i,attrs:{id:"site-anchor-"+encodeURI(i)}},[a("div",{directives:[{name:"discolor",rawName:"v-discolor"}],staticClass:"site-item"},[a("header",[a("i",{staticClass:"category-icon relative left-px-2 iconfont icon-tag"}),a("a",{staticClass:"category-title",attrs:{name:t.typeName}},[e._v(e._s(t.typeName))]),e.showTag(t)?a("div",{staticClass:"w-full pb-px-4 my-px-4 overflow-x-auto overflow-y-hidden"},[a("div",{staticClass:"inherit-bg tag-container flex items-center p-px-4 bg-gray-100 rounded-full"},[a("div",{staticClass:"inherit-bg flex-shrink-0 text-12px text text-center w-px-80 px-px-2 py-px-4 ml-px-6 first:ml-px-0 hover:bg-blue-400 hover:text-white transition rounded-full pointer",class:{selected:""===t.selectedTag},attrs:{title:"全部"},on:{click:function(a){return e.handleSelectTag(t,"")}}},[e._v(" 全部 ")]),e._l(t.allTags,(function(i){return a("div",{key:i,staticClass:"inherit-bg flex-shrink-0 text-12px text text-center w-px-80 px-px-2 py-px-4 ml-px-6 first:ml-px-0 hover:bg-blue-400 hover:text-white transition rounded-full pointer",class:{selected:t.selectedTag===i},attrs:{title:i},on:{click:function(a){return e.handleSelectTag(t,i)}}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()]),a("main",[a("ul",{directives:[{name:"balance",rawName:"v-balance"}]},e._l(e.handleDisplaySites(t),(function(t,i){return a("a",{key:t.url+"-"+i,staticClass:"relative site inherit-text",attrs:{href:t.url,title:t.describe,target:"_blank"}},[a("div",{staticClass:"pin-group absolute -top-px-6 right-px-0 w-full h-px-16 flex justify-end"},e._l(e.handlePin(t),(function(t,i){return a("div",{key:t+"-"+i,staticClass:"w-px-16 h-px-16 mr-px-2 text-12px text-gray-0 flex justify-center items-center rounded-full",style:{backgroundColor:e.LODASH.get(e.pinMap,t+".color")}},[e.LODASH.get(e.pinMap,t)?[e._v(" "+e._s(e.LODASH.get(e.pinMap,t+".label"))+" ")]:e._e()],2)})),0),a("div",{staticClass:"site-card inherit-text text w-px-180 sm:w-px-150"},[a("div",{staticClass:"img-group"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy"}],attrs:{src:e.imgUrl(t)}})]),a("div",{staticClass:"text-group"},[a("div",{staticClass:"name text"},[e._v(e._s(t.name))]),a("div",{staticClass:"describe inherit-text text"},[e._v(e._s(t.describe))])])])])})),0)])])])})),0)}),[],!1,null,"35e81c29",null);t.default=r.exports},dd43:function(e,t,a){}}]);